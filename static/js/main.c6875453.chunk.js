(this["webpackJsonpmovie-administration"]=this["webpackJsonpmovie-administration"]||[]).push([[0],{100:function(e,a,t){},224:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),s=t(41),r=t.n(s),i=(t(100),t(3)),l=t(7),o=t(6),d=t(10),h=t.n(d),b=t(19),j=function(e,a){return{type:e,payload:a}},m=t(9),u=t.n(m),x="SET_ME",O="SET_USERS",g="SET_USER_DETAIL",p="SET_MOVIES",N="SET_MOVIE_DETAIL",v="SET_SHOWTIMES",f=function(){var e=Object(b.a)(h.a.mark((function e(a,t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThongTinTaiKhoan",data:{taiKhoan:t}});case 3:n=e.sent,a(j(x,n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}(),w=t(0),y=function(e){var a=Object(i.c)((function(e){return e.auth.auth})),t=Object(i.b)(),n=function(){!function(e){e(j(x,null)),localStorage.removeItem("taiKhoan"),localStorage.removeItem("accessToken")}(t)};return Object(w.jsx)("div",{className:"p-3 vh-100 container",children:Object(w.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(w.jsxs)("div",{className:"row col-12 col-lg-12",children:[Object(w.jsxs)("div",{className:"col-12 col-lg-12 fs-1 fw-bolder mb-5 text-center",children:[Object(w.jsx)("span",{className:"text-warning",children:"HOT"}),Object(w.jsx)("span",{children:"FLIX"})]}),Object(w.jsxs)("div",{className:"col-12 col-lg-12  mb-5 d-flex justify-content-between",children:[Object(w.jsx)("i",{class:" fa fa-user fs-3 p-2"}),Object(w.jsxs)("div",{className:"",children:[Object(w.jsx)("span",{className:"d-block fs-6",children:"Admin"}),a?Object(w.jsx)("span",{className:"fw-bold text-warning",children:a.hoTen}):Object(w.jsx)(w.Fragment,{})]}),Object(w.jsx)("div",{className:"",children:a?Object(w.jsx)(l.b,{to:"/admin/login",children:Object(w.jsx)("button",{className:"btn btn-dark border border-warning border-2 p-2",onClick:function(){return n()},children:Object(w.jsx)("i",{class:"fa fa-sign-in-alt"})})}):Object(w.jsx)(l.b,{to:"/admin/login",children:Object(w.jsx)("button",{className:"btn btn-dark border border-warning border-2 p-2",children:Object(w.jsx)("i",{class:"fa fa-sign-in-alt"})})})})]})]}),Object(w.jsx)("div",{className:"row col-12 col-lg-12 bg-transparent",children:Object(w.jsxs)("ul",{className:"list-group ",children:[Object(w.jsx)("li",{className:"col-4 col-lg-12 list-group-item bg-transparent",children:Object(w.jsx)(l.b,{to:"/admin",className:"text-decoration-none",children:Object(w.jsxs)("a",{href:"#",className:"text-white text-decoration-none ",children:[Object(w.jsx)("i",{class:"fa fa-th-list pe-2 text-warning fs-4 px-1"}),"DASHBOARD"]})})}),Object(w.jsx)("li",{className:"col-4 col-lg-12 list-group-item bg-transparent",children:Object(w.jsx)(l.b,{to:"/admin/users",className:"text-decoration-none",children:Object(w.jsxs)("a",{href:"#",className:"text-white text-decoration-none",children:[Object(w.jsx)("i",{class:"fa fa-users pe-2 text-warning fs-4"}),"USERS"]})})}),Object(w.jsx)("li",{className:"col-4 col-lg-12 list-group-item bg-transparent",children:Object(w.jsx)(l.b,{to:"/admin/movies",className:"text-decoration-none",children:Object(w.jsxs)("a",{href:"#",className:"text-white text-decoration-none",children:[Object(w.jsx)("i",{class:"fa fa-film pe-2 text-warning fs-4 px-1"}),"MOVIES"]})})})]})})]})})},T=function(e){return Object(w.jsx)("div",{className:"container-fluid  text-white h-100",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-12 col-lg-3 col-xl-2 bg-dark",children:Object(w.jsx)(y,{})}),Object(w.jsx)("div",{className:"col-12 col-lg-9 col-xl-10 bg-dark",children:e.children})]})})},k=function(){var e=Object(b.a)(h.a.mark((function e(a){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"GET",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhim?maNhom=GP01"});case 3:t=e.sent,a(j(p,t.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(h.a.mark((function e(a,t){var n,c,s,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:"",c="",c=""===n?"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhimPhanTrang?maNhom=GP01&soTrang=".concat(t,"&soPhanTuTrenTrang=10"):"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhimPhanTrang?maNhom=GP01&tenPhim=".concat(n,"&soTrang=").concat(t,"&soPhanTuTrenTrang=10"),e.prev=3,e.next=6,u()({method:"GET",url:c});case 6:s=e.sent,a(j(p,s.data.items)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t){return e.apply(this,arguments)}}(),P=function(e,a){console.log(e);var t=new FormData;t.append("File",e.hinhAnh),t.append("tenPhim",e.tenPhim),t.append("maNhom","GP01"),console.log(t),u()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/ThemPhimUploadHinh",data:t}).then((function(t){alert("Successfully Updated Movie: "+e.maPhim),a.history.push("/admin/movies")})).catch((function(e){alert(e.response.data)}))},D=function(){var e=Object(b.a)(h.a.mark((function e(a){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"GET",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=GP01"});case 3:t=e.sent,a(j(O,t.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(h.a.mark((function e(a,t){var n,c,s,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:"",c="",c=""===n?"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/LayDanhSachNguoiDungPhanTrang?MaNhom=GP01&soTrang=".concat(t,"&soPhanTuTrenTrang=20"):"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/LayDanhSachNguoiDungPhanTrang?MaNhom=GP01&tuKhoa=".concat(n,"&soTrang=").concat(t,"&soPhanTuTrenTrang=20"),e.prev=3,e.next=6,u()({method:"GET",url:c});case 6:s=e.sent,a(j(O,s.data.items)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t){return e.apply(this,arguments)}}(),S=function(e){var a=Object(i.c)((function(e){return e.auth.auth})),t=Object(i.c)((function(e){return e.movies.moviesList}))||null,c=Object(i.c)((function(e){return e.users.usersList}))||null,s=Object(i.b)();Object(n.useEffect)((function(){a||e.history.push("/admin/login"),k(s),D(s)}),[]);return Object(w.jsx)(T,{children:Object(w.jsxs)("div",{className:"container-fluid ",children:[Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-12 py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Dashboard"})})}),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-12 col-sm-6",children:Object(w.jsxs)("div",{className:"row bg-dark bg-gradient rounded mx-auto px-4 py-2",children:[Object(w.jsxs)("div",{className:"col-12 col-sm-9",children:[Object(w.jsx)("span",{className:"fs-6",children:"Movies Total"}),Object(w.jsx)("br",{}),Object(w.jsx)("span",{className:"text-warning fs-2",children:t.length})]}),Object(w.jsx)("div",{className:"col-12 col-sm-3 text-warning d-flex justify-content-center m-auto",children:Object(w.jsx)("i",{class:"fa fa-film fs-1 fw-bolder"})})]})}),Object(w.jsx)("div",{className:"col-12 col-sm-6",children:Object(w.jsxs)("div",{className:"row bg-dark bg-gradient rounded mx-auto px-4 py-2",children:[Object(w.jsxs)("div",{className:"col-12 col-sm-9",children:[Object(w.jsx)("span",{className:"fs-6",children:"Users Total"}),Object(w.jsx)("br",{}),Object(w.jsx)("span",{className:"text-warning fs-2",children:c.length})]}),Object(w.jsx)("div",{className:"col-12 col-sm-3 text-warning d-flex justify-content-center m-auto",children:Object(w.jsx)("i",{class:"fa fa-users fs-1 fw-bolder"})})]})})]}),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsxs)("div",{className:"col-12 col-lg-6 my-5",children:[Object(w.jsxs)("span",{className:"fw-bolder fs-5",children:[Object(w.jsx)("i",{class:"fa fa-award text-warning px-4 fs-3"}),"Lastest Movies"]}),Object(w.jsx)("div",{className:"table col-12 container-fluid text-white my-2",children:Object(w.jsxs)("table",{className:"w-100 table table-dark table-borderless",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"text-white-50 ",children:[Object(w.jsx)("th",{children:"ID"}),Object(w.jsx)("th",{children:"TITLE"}),Object(w.jsx)("th",{children:"RATING"})]})}),Object(w.jsx)("tbody",{children:function(){var e=[];return function(e){for(var a=0;a<10;a++)e.push(t[a])}(e),e.map((function(e){return void 0===e?void 0:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:e.maPhim}),Object(w.jsx)("td",{children:e.tenPhim}),Object(w.jsxs)("td",{children:[e.danhGia," ",Object(w.jsx)("i",{class:"fa fa-star text-warning"})]})]})}))}()})]})})]}),Object(w.jsxs)("div",{className:"col-12 col-lg-6 my-5",children:[Object(w.jsxs)("span",{className:"fw-bolder fs-5",children:[Object(w.jsx)("i",{class:"fa fa-award text-warning px-4 fs-3"}),"Lastest Users"]}),Object(w.jsx)("div",{className:"table w-100 col-12 container-fluid text-white my-2",children:Object(w.jsxs)("table",{className:"w-100 table table-dark table-borderless",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"text-white-50 ",children:[Object(w.jsx)("th",{children:"USERNAME"}),Object(w.jsx)("th",{children:"NAME"})]})}),Object(w.jsx)("tbody",{children:function(){var e=[];return function(e){for(var a=0;a<10;a++)e.push(c[a])}(e),e.map((function(e){return void 0===e?void 0:Object(w.jsxs)("tr",{children:[Object(w.jsxs)("td",{children:[Object(w.jsx)("i",{class:"fa fa-user text-warning me-3"}),e.taiKhoan]}),Object(w.jsx)("td",{children:e.hoTen})]})}))}()})]})})]})]})]})})},K=t(5),I=t(2),L=t(11),A=I.a().shape({taiKhoan:I.b().required("Enter username !"),matKhau:I.b().required("Enter password !"),email:I.b().required("Enter email !").email("Enter email !"),soDt:I.b().required("Enter phone number !").matches(/^[0-9]+$/g,"Enter phone number !"),maNhom:I.b().required("Enter group id !"),maLoaiNguoiDung:I.b().required("Enter type of user !"),hoTen:I.b().required("Enter name !")}),B=function(e){var a=localStorage.getItem("accessToken"),t=Object(L.a)({initialValues:{taiKhoan:"",matKhau:"",email:"",soDt:"",maNhom:"GP01",maLoaiNguoiDung:"KhachHang",hoTen:""},validationSchema:A,validateOnMount:!0}),n=t.isValid,c=t.handleBlur,s=t.handleChange,r=t.values,i=t.errors,l=t.touched,o=t.setTouched;return Object(w.jsx)(T,{children:Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsx)("div",{className:"row py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Add new user"})}),Object(w.jsx)("div",{className:"row my-3",children:Object(w.jsxs)("form",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Username: "}),Object(w.jsx)("input",{id:"taiKhoan",className:"w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:r.taiKhoan,onChange:s,onBlur:c,placeholder:"Username"}),l.taiKhoan&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.taiKhoan})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Password: "}),Object(w.jsx)("input",{id:"matKhau",className:"w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:r.matKhau,onChange:s,onBlur:c,placeholder:"Password"}),l.matKhau&&Object(w.jsx)("p",{className:"text-danger",children:i.matKhau})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Name: "}),Object(w.jsx)("input",{id:"hoTen",className:"col-6 w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:r.hoTen,onChange:s,onBlur:c,placeholder:"Name"}),l.hoTen&&Object(w.jsx)("p",{className:"text-danger",children:i.hoTen})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Group ID: "}),Object(w.jsx)("input",{id:"maNhom",className:"col-6 w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:r.maNhom,onChange:s,onBlur:c,placeholder:"Group ID"}),l.maNhom&&Object(w.jsx)("p",{className:"text-danger",children:i.maNhom})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Phone Number: "}),Object(w.jsx)("input",{id:"soDt",className:"col-6 w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:r.soDt,onChange:s,onBlur:c,placeholder:"Phone Number"}),l.soDt&&Object(w.jsx)("p",{className:"text-danger",children:i.soDt})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Email: "}),Object(w.jsx)("input",{id:"email",className:"col-6 w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:r.email,onChange:s,onBlur:c,placeholder:"Email"}),l.email&&Object(w.jsx)("p",{className:"text-danger",children:i.email})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2 d-flex justify-content-around",children:[Object(w.jsx)("label",{className:"text-warning",children:"Type Of User: "}),Object(w.jsxs)("select",{id:"maLoaiNguoiDung",value:r.maLoaiNguoiDung,onChange:s,onBlur:c,className:"w-100 p-2 bg-dark text-white border border-warning",children:[Object(w.jsx)("option",{value:"KhachHang",children:"Kh\xe1ch H\xe0ng"}),Object(w.jsx)("option",{value:"QuanTri",children:"Qu\u1ea3n Tr\u1ecb"})]})]}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("button",{onClick:function(t){if(t.preventDefault(),o({taiKhoan:!0,matKhau:!0,email:!0,soDt:!0,maNhom:!0,maLoaiNguoiDung:!0,hoTen:!0}),n){var c=Object(K.a)({},r);console.log("data: "+c),function(e,a,t){u()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThemNguoiDung",data:{newUser:e},headers:{Authorization:"Bearer "+a}}).then((function(a){alert("Successfully Inserted Account: "+e.taiKhoan),t.history.push("/admin/users")})).catch((function(e){console.log(e.response),alert(e.response.statusText)}))}(c,a,e)}},className:"col-3 btn btn-dark border border-warning border-2 p-2 mx-2 my-5",children:"Insert User"})})]})})]})})},M=I.a().shape({taiKhoan:I.b().required("Enter your username !"),matKhau:I.b().required("Enter your password !")}),G=function(e){var a=Object(i.b)(),t=Object(i.c)((function(e){return e.auth.auth}));Object(n.useEffect)((function(){t&&e.history.push("/admin")}),[t,e.history]);var c=Object(L.a)({initialValues:{taiKhoan:"",matKhau:""},validationSchema:M,validateOnMount:!0}),s=c.isValid,r=c.setTouched,o=c.values,d=c.errors,h=c.touched,b=c.handleChange,m=c.handleBlur;return Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"container-fluid bg-dark sticky-top vh-100",children:Object(w.jsx)("div",{className:"row d-flex justify-content-center ",children:Object(w.jsxs)("form",{className:"col-12 bg-dark bg-gradient rounded w-25 my-5",children:[Object(w.jsxs)(l.b,{to:"/admin",className:"sidebar__logo fs-1 fw-bold mb-5 text-center d-block mt-3 text-decoration-none",children:[Object(w.jsx)("span",{className:"text-warning",children:"HOT"}),Object(w.jsx)("span",{className:"text-white",children:"FLIX"})]}),Object(w.jsx)("label",{className:"text-warning fs-5",children:"Username"}),Object(w.jsx)("input",{id:"taiKhoan",label:"Username",value:o.taiKhoan,onChange:b,onBlur:m,autoFocus:!0,className:"w-100 my-3 bg-secondary border border-warning p-2"}),h.taiKhoan&&Object(w.jsx)("p",{className:"text-danger",children:d.taiKhoan}),Object(w.jsx)("label",{className:"text-warning fs-5",children:"Password"}),Object(w.jsx)("input",{id:"matKhau",label:"Password",value:o.matKhau,onChange:b,onBlur:m,className:"w-100 my-3 bg-secondary border border-warning p-2"}),h.matKhau&&Object(w.jsx)("p",{className:"text-danger",children:d.matKhau}),Object(w.jsx)("button",{type:"submit",className:"btn btn-dark border border-warning w-100 text-white my-3 fs-5",onClick:function(e){if(e.preventDefault(),r({taiKhoan:!0,matKhau:!0}),s){var t=Object(K.a)({},o);!function(e,a){u()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap",data:a}).then((function(a){"QuanTri"===a.data.maLoaiNguoiDung?(e(j(x,a.data)),localStorage.setItem("accessToken",a.data.accessToken),localStorage.setItem("taiKhoan",a.data.taiKhoan)):alert("Please Use Administration Account !")})).catch((function(e){console.log(e)}))}(a,t)}},children:"LOG IN"})]})})})})},q=t(16),R=function(e){var a=Object(n.useState)(1),t=Object(q.a)(a,2),c=t[0],s=t[1],r=Object(n.useState)(!1),o=Object(q.a)(r,2),d=o[0],h=o[1],b=Object(n.useState)(""),m=Object(q.a)(b,2),x=m[0],O=m[1],g=Object(i.b)(),p=Object(i.c)((function(e){return e.movies.moviesList})),v=Object(i.c)((function(e){return e.auth.auth})),f=localStorage.getItem("accessToken");Object(n.useEffect)((function(){v?C(g,c,x):e.history.push("/admin/login"),h(!1)}),[g,c,x,d,v,e.history]);var y=Object(n.useCallback)((function(e){!function(e,a){e(j(N,a))}(g,e)}),[g]),k=Object(L.a)({initialValues:{keyword:""},validateOnMount:!0}),P=k.handleBlur,D=k.handleChange,E=k.values,S=function(e){!function(e,a,t){u()({method:"DELETE",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/XoaPhim?MaPhim=".concat(e),headers:{Authorization:"Bearer "+a}}).then((function(a){alert("Successfully Deleted Movie: "+e)})).catch((function(e){alert(e.response.data)}))}(e,f),h(!0)};return Object(w.jsxs)(T,{children:[Object(w.jsx)("div",{className:"container-fluid ",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-3 py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Movies"})}),Object(w.jsxs)("div",{className:"col-9 row py-3",children:[Object(w.jsxs)("div",{className:"col-12 col-md-6 d-flex justify-content-end",children:[Object(w.jsx)("input",{id:"keyword",className:"w-100 text-white bg-dark border border-warning border-2 px-2",placeholder:"Enter Keyword",value:E.keyword,onChange:D,onBlur:P}),Object(w.jsx)("button",{className:"btn btn-dark border border-warning border-2 ms-2",onClick:function(){return O(E.keyword),void s(1)},children:Object(w.jsx)("i",{class:"fa fa-search"})})]}),Object(w.jsx)("div",{className:"col-12 col-md-6 d-flex justify-content-end",children:Object(w.jsx)(l.b,{to:"/admin/insertmovie",children:Object(w.jsxs)("button",{className:"btn btn-dark border border-warning border-2 p-2",children:["INSERT MOVIE ",Object(w.jsx)("i",{class:"fa fa-plus text-warning"})]})})})]})]})}),Object(w.jsx)("div",{className:"table-responsive col-12 container-fluid text-white",children:Object(w.jsxs)("table",{className:"w-100 table table-dark table-borderless",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"text-white-50 ",children:[Object(w.jsx)("th",{children:"NO."}),Object(w.jsx)("th",{children:"ID"}),Object(w.jsx)("th",{children:"TITLE"}),Object(w.jsx)("th",{children:"RATING"}),Object(w.jsx)("th",{children:"GROUP ID"}),Object(w.jsx)("th",{children:"SHOWTIMES"}),Object(w.jsx)("th",{className:"text-center",children:"ACTIONS"})]})}),Object(w.jsx)("tbody",{children:p.map((function(e){return Object(w.jsxs)("tr",{className:"fs-6",children:[Object(w.jsx)("td",{children:p.indexOf(e)+1}),Object(w.jsx)("td",{children:e.maPhim}),Object(w.jsx)("td",{children:e.tenPhim}),Object(w.jsxs)("td",{children:[Object(w.jsx)("i",{class:"fa fa-star text-warning"})," ",e.danhGia]}),Object(w.jsx)("td",{children:e.maNhom}),Object(w.jsx)("td",{children:e.ngayKhoiChieu.substr(0,10)}),Object(w.jsxs)("td",{className:"d-flex justify-content-around",children:[Object(w.jsx)(l.b,{to:"/admin/moviedetail/".concat(e.maPhim),children:Object(w.jsx)("button",{className:"btn btn-dark text-warning",onClick:function(){return y(e)},children:Object(w.jsx)("i",{class:"fa fa-search"})})}),Object(w.jsx)(l.b,{to:"/admin/updatemovie/".concat(e.maPhim),children:Object(w.jsx)("button",{className:"btn btn-dark text-primary",onClick:function(){return y(e)},children:Object(w.jsx)("i",{class:"fa fa-edit fs-5"})})}),Object(w.jsx)("button",{className:"btn btn-dark text-danger",onClick:function(){return S(e.maPhim)},children:Object(w.jsx)("i",{class:"fa fa-trash fs-5"})})]})]})}))})]})}),Object(w.jsxs)("div",{className:"paging row mb-3",children:[Object(w.jsx)("div",{className:"paging__title col-3",children:Object(w.jsx)("span",{className:"fs-6 text-white-50",children:"Movies List Information"})}),Object(w.jsxs)("div",{className:"paging__bar col-9 d-flex justify-content-end",children:[1===c?Object(w.jsx)("button",{disabled:!0,className:"btn btn-dark px-3",children:Object(w.jsx)("i",{class:"fa fa-ban"})}):Object(w.jsx)("button",{onClick:function(){return s(c-1)},className:"btn btn-dark px-3",children:Object(w.jsx)("i",{class:"fa fa-angle-left"})}),Object(w.jsx)("button",{className:"btn btn-dark border border-warning px-3",children:c}),Object(w.jsx)("button",{onClick:function(){return s(c+1)},className:"btn btn-dark px-3",children:Object(w.jsx)("i",{class:"fa fa-angle-right"})})]})]})]})},U=function(){var e=Object(b.a)(h.a.mark((function e(a,t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"GET",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinLichChieuPhim?MaPhim=".concat(t)});case 3:n=e.sent,a(j(v,n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(h.a.mark((function e(a,t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,u()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/TaoLichChieu",data:{data:t},headers:{Authorization:"Bearer "+a}});case 4:e.sent,alert("Successfully Inserted Showtime Of Movie: "+t.maPhim),n.history.push("/admin/showtimes/:".concat(t.maPhim)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a,t,n){return e.apply(this,arguments)}}(),V=function(e){var a=e.match.params.maPhim,t=Object(i.c)((function(e){return e.showtimes.showtimes}))||{},c=(Object(i.c)((function(e){return e.auth.auth})),Object(i.b)());Object(n.useEffect)((function(){U(c,a)}),[c,a]);var s=Object(n.useCallback)((function(){if(void 0!==t.heThongRapChieu)return t.heThongRapChieu.map((function(e){e.cumRapChieu.map((function(e){e.lichChieuPhim.map((function(e){return Object(w.jsxs)("tr",{className:"fs-6 text-center",children:[Object(w.jsx)("td",{children:"1"}),Object(w.jsx)("td",{children:e.maLichChieu}),Object(w.jsx)("td",{children:e.maRap}),Object(w.jsx)("td",{children:e.tenRap}),Object(w.jsxs)("td",{children:[Object(w.jsx)("span",{children:e.ngayChieuGioChieu.substr(0,10)}),Object(w.jsx)("br",{}),Object(w.jsxs)("span",{children:[Object(w.jsx)("span",{className:"text-warning",children:"Time: "})," ",e.ngayChieuGioChieu.substr(11)]})]}),Object(w.jsxs)("td",{children:[e.giaVe," VND"]}),Object(w.jsxs)("td",{children:[e.thoiLuong," m"]}),Object(w.jsx)("td",{className:"d-flex justify-content-around",children:Object(w.jsx)("button",{className:"btn btn-dark text-danger",children:Object(w.jsx)("i",{class:"fa fa-trash fs-5"})})})]})}))}))}))}),[t]);return Object(w.jsxs)(T,{children:[Object(w.jsx)("div",{className:"users__page container-fluid ",children:Object(w.jsxs)("div",{className:"header row",children:[Object(w.jsx)("div",{className:"header__tittle col-3 py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Showtimes"})}),Object(w.jsx)("div",{className:"header__action col-9 row py-3",children:Object(w.jsx)("div",{className:"col-12 d-flex justify-content-end",children:Object(w.jsx)(l.b,{to:"/admin/insertshowtime/".concat(a),children:Object(w.jsxs)("button",{className:"btn btn-dark border border-warning border-2 p-2",children:["INSERT SHOWTIME ",Object(w.jsx)("i",{class:"fa fa-plus text-warning"})]})})})})]})}),Object(w.jsx)("div",{className:"table-responsive col-12 container-fluid text-white",children:Object(w.jsxs)("table",{className:"w-100 table table-dark table-borderless",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"text-white-50 text-center",children:[Object(w.jsx)("th",{children:"NO."}),Object(w.jsx)("th",{children:"SHOWTIME ID"}),Object(w.jsx)("th",{children:"CINEMA ID"}),Object(w.jsx)("th",{children:"CINEMA NAME"}),Object(w.jsx)("th",{children:"SHOWTIMES"}),Object(w.jsx)("th",{children:"TICKET PRICE"}),Object(w.jsx)("th",{children:"TIME"}),Object(w.jsx)("th",{children:"ACTIONS"})]})}),Object(w.jsx)("tbody",{children:s()})]})})]})},Q=I.a().shape({taiKhoan:I.b().required("Enter username !"),matKhau:I.b().required("Enter password !"),email:I.b().required("Enter email !").email("Enter email !"),soDt:I.b().required("Enter phone number !").matches(/^[0-9]+$/g,"Enter phone number !"),maNhom:I.b().required("Enter group id !"),maLoaiNguoiDung:I.b().required("Enter type of user !"),hoTen:I.b().required("Enter name !")}),H=function(e){var a=localStorage.getItem("accessToken"),t=Object(i.c)((function(e){return e.users.userDetail}))||{},n=Object(L.a)({initialValues:{taiKhoan:t.taiKhoan,matKhau:t.matKhau,email:t.email,soDt:t.soDt,maNhom:t.maNhom?t.maNhom:"GP01",maLoaiNguoiDung:t.maLoaiNguoiDung,hoTen:t.hoTen},validationSchema:Q,validateOnMount:!0}),c=n.isValid,s=n.handleBlur,r=n.handleChange,l=n.values,o=n.errors,d=n.touched,h=n.setTouched;return Object(w.jsx)(T,{children:Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsx)("div",{className:"row py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Update user"})}),Object(w.jsx)("div",{className:"row my-3",children:Object(w.jsxs)("form",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Username: "}),Object(w.jsx)("input",{id:"taiKhoan",className:"w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:l.taiKhoan,onChange:r,onBlur:s,disabled:!0}),d.taiKhoan&&Object(w.jsx)("p",{className:"text-danger m-auto",children:o.taiKhoan})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Password: "}),Object(w.jsx)("input",{id:"matKhau",className:"w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:l.matKhau,onChange:r,onBlur:s}),d.matKhau&&Object(w.jsx)("p",{className:"text-danger",children:o.matKhau})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Name: "}),Object(w.jsx)("input",{id:"hoTen",className:"col-6 w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:l.hoTen,onChange:r,onBlur:s}),d.hoTen&&Object(w.jsx)("p",{className:"text-danger",children:o.hoTen})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Group ID: "}),Object(w.jsx)("input",{id:"maNhom",className:"col-6 w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:l.maNhom,onChange:r,onBlur:s}),d.maNhom&&Object(w.jsx)("p",{className:"text-danger",children:o.maNhom})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Phone Number: "}),Object(w.jsx)("input",{id:"soDt",className:"col-6 w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:l.soDt,onChange:r,onBlur:s}),d.soDt&&Object(w.jsx)("p",{className:"text-danger",children:o.soDt})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Email: "}),Object(w.jsx)("input",{id:"email",className:"col-6 w-100 text-white bg-dark bg-opacity-50 border border-warning p-2 ",value:l.email,onChange:r,onBlur:s}),d.email&&Object(w.jsx)("p",{className:"text-danger",children:o.email})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2 d-flex justify-content-around",children:[Object(w.jsx)("label",{className:"text-warning",children:"Type Of User: "}),Object(w.jsxs)("select",{id:"maLoaiNguoiDung",value:l.maLoaiNguoiDung,onChange:r,onBlur:s,className:"w-100 p-2 bg-dark text-white border border-warning",children:[Object(w.jsx)("option",{value:"KhachHang",children:"Kh\xe1ch H\xe0ng"}),Object(w.jsx)("option",{value:"QuanTri",children:"Qu\u1ea3n Tr\u1ecb"})]})]}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("button",{onClick:function(t){(t.preventDefault(),h({taiKhoan:!0,matKhau:!0,email:!0,soDt:!0,maNhom:!0,maLoaiNguoiDung:!0,hoTen:!0}),c)&&function(e,a,t){u()({method:"PUT",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung",data:e,headers:{Authorization:"Bearer "+a}}).then((function(a){alert("Successfully Updated Account: "+e.taiKhoan),t.history.push("/admin/users")})).catch((function(e){alert(e.response.data)}))}(Object(K.a)({},l),a,e)},className:"col-3 btn btn-dark border border-warning border-2 p-2 mx-2 my-5",children:"Update User"})})]})})]})})},F=function(e){var a=Object(n.useState)(1),t=Object(q.a)(a,2),c=t[0],s=t[1],r=Object(n.useState)(!1),o=Object(q.a)(r,2),d=o[0],h=o[1],b=Object(n.useState)(""),m=Object(q.a)(b,2),x=m[0],O=m[1],p=Object(i.b)(),N=Object(i.c)((function(e){return e.users.usersList})),v=Object(i.c)((function(e){return e.auth.auth})),f=localStorage.getItem("accessToken");Object(n.useEffect)((function(){v||e.history.push("/admin/login"),E(p,c,x),h(!1)}),[p,c,x,d,v,e.history]);var y=function(e){!function(e,a){e(j(g,a))}(p,e)},k=Object(L.a)({initialValues:{keyword:""},validateOnMount:!0}),C=k.handleBlur,P=k.handleChange,D=k.values,S=function(e){!function(e,a){u()({method:"DELETE",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=".concat(e),headers:{Authorization:"Bearer "+a}}).then((function(a){alert("Successfully Deleted Account: "+e)})).catch((function(e){console.log(e),alert(e.response.data)}))}(e,f),h(!0)};return Object(w.jsx)(T,{children:Object(w.jsxs)("div",{className:"container-fluid ",children:[Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-3 py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Users"})}),Object(w.jsxs)("div",{className:"col-9 row py-3 ",children:[Object(w.jsxs)("div",{className:"col-12 col-md-6 d-flex justify-content-end",children:[Object(w.jsx)("input",{id:"keyword",className:"w-100 text-white bg-dark border border-warning border-2 px-2",placeholder:"Enter Keyword",value:D.keyword,onChange:P,onBlur:C}),Object(w.jsx)("button",{className:"btn btn-dark border border-warning border-2 ms-2",onClick:function(){return O(D.keyword),void s(1)},children:Object(w.jsx)("i",{class:"fa fa-search"})})]}),Object(w.jsx)("div",{className:"col-12 col-md-6 d-flex justify-content-end",children:Object(w.jsx)(l.b,{to:"/admin/insertuser",children:Object(w.jsxs)("button",{className:"btn btn-dark border border-warning border-2 p-2",children:["INSERT USER ",Object(w.jsx)("i",{class:"fa fa-plus text-warning"})]})})})]})]}),Object(w.jsx)("div",{className:"table-responsive col-12 container-fluid text-white",children:Object(w.jsxs)("table",{className:"w-100 table table-dark table-borderless",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"text-white-50 ",children:[Object(w.jsx)("th",{children:"NO."}),Object(w.jsx)("th",{children:"BASIC INFO"}),Object(w.jsx)("th",{children:"USERNAME"}),Object(w.jsx)("th",{children:"PHONE NUMBER"}),Object(w.jsx)("th",{children:"EMAIL"}),Object(w.jsx)("th",{children:"USER TYPE"}),Object(w.jsx)("th",{className:"text-center",children:"ACTIONS"})]})}),Object(w.jsx)("tbody",{children:N.map((function(e){return Object(w.jsxs)("tr",{className:"fs-6",children:[Object(w.jsx)("td",{children:N.indexOf(e)+1}),Object(w.jsxs)("td",{children:[Object(w.jsx)("i",{class:"fa fa-user fs-6 p-2 border border-warning"})," ",e.hoTen]}),Object(w.jsx)("td",{children:e.taiKhoan}),Object(w.jsx)("td",{children:e.soDt}),Object(w.jsx)("td",{children:e.email}),Object(w.jsx)("td",{children:e.maLoaiNguoiDung}),Object(w.jsxs)("td",{className:"d-flex justify-content-around",children:[Object(w.jsx)(l.b,{to:"/admin/updateuser",children:Object(w.jsx)("button",{className:"btn btn-dark text-primary ",onClick:function(){return y(e)},children:Object(w.jsx)("i",{class:"fa fa-edit fs-5"})})}),Object(w.jsx)("button",{className:"btn btn-dark text-danger",onClick:function(){return S(e.taiKhoan)},children:Object(w.jsx)("i",{class:"fa fa-trash fs-5"})})]})]})}))})]})}),Object(w.jsxs)("div",{className:"paging row mb-3",children:[Object(w.jsx)("div",{className:"paging__title col-3",children:Object(w.jsx)("span",{className:"fs-6 text-white-50",children:"Users List Information"})}),Object(w.jsxs)("div",{className:"paging__bar col-9 d-flex justify-content-end",children:[1===c?Object(w.jsx)("button",{disabled:!0,className:"btn btn-dark px-3",children:Object(w.jsx)("i",{class:"fa fa-ban"})}):Object(w.jsx)("button",{onClick:function(){return s(c-1)},className:"btn btn-dark px-3",children:Object(w.jsx)("i",{class:"fa fa-angle-left"})}),Object(w.jsx)("button",{className:"btn btn-dark border border-warning px-3",children:c}),Object(w.jsx)("button",{onClick:function(){return s(c+1)},className:"btn btn-dark px-3",children:Object(w.jsx)("i",{class:"fa fa-angle-right"})})]})]})]})})},z=I.a().shape({hinhAnh:I.b().required("Enter image source !"),maPhim:I.b().required("Enter movie id !"),maNhom:I.b().required("Enter group id !"),tenPhim:I.b().required("Enter movie name !"),biDanh:I.b().required("Enter movie aliases !"),moTa:I.b().required("Enter decription !"),danhGia:I.b().required("Enter rating !"),ngayKhoiChieu:I.b().required("Enter showtime !"),trailer:I.b().required("Enter trailer !")}),W=function(e){var a=localStorage.getItem("accessToken"),t=Object(L.a)({initialValues:{hinhAnh:"",maPhim:0,maNhom:"GP01",tenPhim:"",biDanh:"",moTa:"",danhGia:"",ngayKhoiChieu:"",trailer:""},validationSchema:z,validateOnMount:!0}),n=t.isValid,c=t.handleBlur,s=t.handleChange,r=t.values,i=t.errors,l=t.touched,o=t.setTouched;return Object(w.jsx)(T,{children:Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsx)("div",{className:"row py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Insert Movie"})}),Object(w.jsx)("div",{className:"row my-3",children:Object(w.jsxs)("form",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-4 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Image Source: "}),Object(w.jsx)("input",{id:"hinhAnh",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.hinhAnh,onChange:s,onBlur:c}),l.hinhAnh&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.hinhAnh}),Object(w.jsx)("img",{alt:"hinhAnh",src:r.hinhAnh,className:"w-100 my-4"})]}),Object(w.jsxs)("div",{className:"col-8 row",children:[Object(w.jsxs)("div",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Movie ID: "}),Object(w.jsx)("input",{id:"maPhim",className:"w-100 text-secondary bg-dark border border-warning p-2 ",value:"Generated by server !",disabled:!0}),l.maPhim&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.maPhim})]}),Object(w.jsxs)("div",{className:"col-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Group ID: "}),Object(w.jsx)("input",{id:"maNhom",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.maNhom,onChange:s,onBlur:c}),l.maNhom&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.maNhom})]})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Title: "}),Object(w.jsx)("input",{id:"tenPhim",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.tenPhim,onChange:s,onBlur:c}),l.tenPhim&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.tenPhim})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Aliases: "}),Object(w.jsx)("input",{id:"biDanh",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.biDanh,onChange:s,onBlur:c}),l.biDanh&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.biDanh})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Decription: "}),Object(w.jsx)("textarea",{id:"moTa",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.moTa,onChange:s,onBlur:c}),l.moTa&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.moTa})]}),Object(w.jsxs)("div",{className:"col-12 row my-2",children:[Object(w.jsxs)("div",{className:"col-4 py-2",children:[Object(w.jsx)("span",{className:"text-warning",children:"Rating: "}),Object(w.jsxs)("select",{id:"danhGia",value:r.danhGia,className:"text-white bg-dark border border-warning p-2",onChange:s,children:[Object(w.jsx)("option",{value:"1",children:"1"}),Object(w.jsx)("option",{value:"2",children:"2"}),Object(w.jsx)("option",{value:"3",children:"3"}),Object(w.jsx)("option",{value:"4",children:"4"}),Object(w.jsx)("option",{value:"5",children:"5"}),Object(w.jsx)("option",{value:"6",children:"6"}),Object(w.jsx)("option",{value:"7",children:"7"}),Object(w.jsx)("option",{value:"8",children:"8"}),Object(w.jsx)("option",{value:"9",children:"9"}),Object(w.jsx)("option",{value:"10",children:"10"})]}),Object(w.jsx)("span",{children:Object(w.jsx)("i",{class:"fa fa-star text-warning mx-2"})})]}),Object(w.jsxs)("div",{className:"col-8 d-flex justify-content-between",children:[Object(w.jsx)("label",{className:"text-warning p-2",children:"Showtime: "}),Object(w.jsx)("input",{id:"ngayKhoiChieu",className:"w-100 text-white bg-dark border border-warning ",value:r.ngayKhoiChieu.substr(0,10),onChange:s,onBlur:c}),l.ngayKhoiChieu&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.ngayKhoiChieu})]})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Trailer: "}),Object(w.jsx)("input",{id:"trailer",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.trailer,onChange:s,onBlur:c}),l.trailer&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.trailer})]})]}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("button",{onClick:function(t){(t.preventDefault(),o({hinhAnh:!0,maPhim:!0,maNhom:!0,tenPhim:!0,biDanh:!0,moTa:!0,danhGia:!0,trailer:!0}),n)&&function(e,a,t){u()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/ThemPhim",data:e,headers:{Authorization:"Bearer "+a}}).then((function(a){console.log(a),P(e,t)})).catch((function(e){alert(e.response.data)}))}(Object(K.a)({},r),a,e)},className:"col-3 btn btn-dark border border-warning border-2 p-2 mx-2 my-5",children:"Insert Movie"})})]})})]})})},X=I.a().shape({hinhAnh:I.b().required("Enter image source !"),maPhim:I.b().required("Enter movie id !"),maNhom:I.b().required("Enter group id !"),tenPhim:I.b().required("Enter movie name !"),biDanh:I.b().required("Enter movie aliases !"),moTa:I.b().required("Enter decription !"),danhGia:I.b().required("Enter rating !"),ngayKhoiChieu:I.b().required("Enter showtime !"),trailer:I.b().required("Enter trailer !")}),$=function(e){var a=Object(i.c)((function(e){return e.movies.movieDetail||null})),t=localStorage.getItem("accessToken"),n=a.ngayKhoiChieu.substr(0,10),c=Object(L.a)({initialValues:{hinhAnh:a.hinhAnh,maPhim:a.maPhim,maNhom:a.maNhom,tenPhim:a.tenPhim,biDanh:a.biDanh,moTa:a.moTa,danhGia:a.danhGia,ngayKhoiChieu:n.substr(8,2)+"-"+n.substr(5,2)+"-"+n.substr(0,4),trailer:a.trailer},validationSchema:X,validateOnMount:!0}),s=c.isValid,r=c.handleBlur,l=c.handleChange,o=c.values,d=c.errors,h=c.touched,b=c.setTouched;return Object(w.jsx)(T,{children:Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsx)("div",{className:"row py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Update Movie"})}),Object(w.jsx)("div",{className:"row my-3",children:Object(w.jsxs)("form",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-12 col-md-4 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Image Source: "}),Object(w.jsx)("input",{id:"hinhAnh",className:"w-100 text-white bg-dark border border-warning p-2 ",value:o.hinhAnh,onChange:l,onBlur:r}),h.hinhAnh&&Object(w.jsx)("p",{className:"text-danger m-auto",children:d.hinhAnh}),Object(w.jsx)("img",{alt:"hinhAnh",src:o.hinhAnh,className:"w-100 my-4"})]}),Object(w.jsxs)("div",{className:"col-12 col-md-8 row",children:[Object(w.jsxs)("div",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Movie ID: "}),Object(w.jsx)("input",{id:"maPhim",className:"w-100 text-white bg-dark border border-warning p-2 ",value:o.maPhim,disabled:!0}),h.maPhim&&Object(w.jsx)("p",{className:"text-danger m-auto",children:d.maPhim})]}),Object(w.jsxs)("div",{className:"col-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Group ID: "}),Object(w.jsx)("input",{id:"maNhom",className:"w-100 text-white bg-dark border border-warning p-2 ",value:o.maNhom,onChange:l,onBlur:r}),h.maNhom&&Object(w.jsx)("p",{className:"text-danger m-auto",children:d.maNhom})]})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Title: "}),Object(w.jsx)("input",{id:"tenPhim",className:"w-100 text-white bg-dark border border-warning p-2 ",value:o.tenPhim,onChange:l,onBlur:r}),h.tenPhim&&Object(w.jsx)("p",{className:"text-danger m-auto",children:d.tenPhim})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Aliases: "}),Object(w.jsx)("input",{id:"biDanh",className:"w-100 text-white bg-dark border border-warning p-2 ",value:o.biDanh,onChange:l,onBlur:r}),h.biDanh&&Object(w.jsx)("p",{className:"text-danger m-auto",children:d.biDanh})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Decription: "}),Object(w.jsx)("textarea",{id:"moTa",className:"w-100 text-white bg-dark border border-warning p-2 ",value:o.moTa,onChange:l,onBlur:r}),h.moTa&&Object(w.jsx)("p",{className:"text-danger m-auto",children:d.moTa})]}),Object(w.jsxs)("div",{className:"col-12 row my-2",children:[Object(w.jsxs)("div",{className:"col-4 py-2",children:[Object(w.jsx)("span",{className:"text-warning",children:"Rating: "}),Object(w.jsxs)("select",{id:"danhGia",value:o.danhGia,className:"text-white bg-dark border border-warning p-2",onChange:l,children:[Object(w.jsx)("option",{value:"1",children:"1"}),Object(w.jsx)("option",{value:"2",children:"2"}),Object(w.jsx)("option",{value:"3",children:"3"}),Object(w.jsx)("option",{value:"4",children:"4"}),Object(w.jsx)("option",{value:"5",children:"5"}),Object(w.jsx)("option",{value:"6",children:"6"}),Object(w.jsx)("option",{value:"7",children:"7"}),Object(w.jsx)("option",{value:"8",children:"8"}),Object(w.jsx)("option",{value:"9",children:"9"}),Object(w.jsx)("option",{value:"10",children:"10"})]}),Object(w.jsx)("span",{children:Object(w.jsx)("i",{class:"fa fa-star text-warning px-2"})})]}),Object(w.jsxs)("div",{className:"col-8 d-flex justify-content-between",children:[Object(w.jsx)("label",{className:"text-warning p-2 ",children:"Showtime: "}),Object(w.jsx)("input",{id:"ngayKhoiChieu",className:"w-100 text-white bg-dark border border-warning ",value:o.ngayKhoiChieu,onChange:l,onBlur:r}),h.ngayKhoiChieu&&Object(w.jsx)("p",{className:"text-danger m-auto",children:d.ngayKhoiChieu})]})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Trailer: "}),Object(w.jsx)("input",{id:"trailer",className:"w-100 text-white bg-dark border border-warning p-2 ",value:o.trailer,onChange:l,onBlur:r}),h.trailer&&Object(w.jsx)("p",{className:"text-danger m-auto",children:d.trailer})]})]}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("button",{onClick:function(a){(a.preventDefault(),b({hinhAnh:!0,maPhim:!0,maNhom:!0,tenPhim:!0,biDanh:!0,moTa:!0,danhGia:!0,trailer:!0}),s)&&function(e,a,t){console.log(e),u()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/CapNhatPhim",data:e,headers:{Authorization:"Bearer "+a}}).then((function(a){P(e,t)})).catch((function(e){alert(e.response.data)}))}(Object(K.a)({},o),t,e)},className:"col-3 btn btn-dark border border-warning border-2 p-2 mx-2 my-5",children:"Update Movie"})})]})})]})})},J=function(e){var a=Object(i.c)((function(e){return e.movies.movieDetail||null})),t=e.match.params.maPhim;return Object(w.jsx)(T,{children:Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"row py-3 col-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Movie Detail"})}),Object(w.jsx)("div",{className:"py-3 col-9 d-flex justify-content-end",children:Object(w.jsx)(l.b,{to:"/admin/showtimes/".concat(t),children:Object(w.jsxs)("button",{className:"btn btn-dark border border-warning border-2 p-2",children:["SHOWTIMES ",Object(w.jsx)("i",{class:"fa fa-search text-warning"})]})})})]}),Object(w.jsx)("div",{className:"row my-3",children:Object(w.jsxs)("form",{className:"col-12 row",children:[Object(w.jsx)("div",{className:"col-12 col-md-4",children:Object(w.jsx)("img",{alt:"hinhAnh",src:a.hinhAnh,className:"w-100 my-4"})}),Object(w.jsxs)("div",{className:"col-12 col-md-8 row",children:[Object(w.jsxs)("div",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Movie ID: "}),Object(w.jsx)("input",{id:"maPhim",className:"w-100 text-white bg-dark border border-warning p-2 ",value:a.maPhim,disabled:!0})]}),Object(w.jsxs)("div",{className:"col-6 my-2 ",children:[Object(w.jsx)("label",{className:"text-warning mb-2 ",children:"Group ID: "}),Object(w.jsx)("input",{id:"maNhom",className:"w-100 text-white bg-dark border border-warning p-2 ",value:a.maNhom,disabled:!0})]})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Title: "}),Object(w.jsx)("input",{id:"tenPhim",className:"w-100 text-white bg-dark border border-warning p-2 ",value:a.tenPhim,disabled:!0})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Aliases: "}),Object(w.jsx)("input",{id:"biDanh",className:"w-100 text-white bg-dark border border-warning p-2 ",value:a.biDanh,disabled:!0})]}),Object(w.jsxs)("div",{className:"col-12 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Decription: "}),Object(w.jsx)("textarea",{id:"moTa",className:"w-100 text-white bg-dark border border-warning p-2 ",value:a.moTa,disabled:!0})]}),Object(w.jsxs)("div",{className:"col-12 row my-2",children:[Object(w.jsxs)("div",{className:"col-4 py-2",children:[Object(w.jsx)("span",{className:"text-warning",children:"Rating: "}),Object(w.jsxs)("span",{children:[a.danhGia,Object(w.jsx)("i",{class:"fa fa-star text-warning mx-2"})]})]}),Object(w.jsxs)("div",{className:"col-8 d-flex justify-content-between",children:[Object(w.jsx)("label",{className:"text-warning p-2",children:"Showtime: "}),Object(w.jsx)("input",{id:"ngayKhoiChieu",className:"w-100 text-white bg-dark border border-warning ",value:a.ngayKhoiChieu.substr(0,10),disabled:!0})]})]}),Object(w.jsx)("div",{className:"col-12",children:Object(w.jsx)("iframe",{src:a.trailer,title:"trailer",className:"w-100 vh-100",frameborder:"0",allowfullscreen:!0})})]})]})})]})})},Y=I.a().shape({maPhim:I.b().required("Enter movie id !"),maRap:I.b().required("Enter cinema id !"),ngayChieuGioChieu:I.b().required("Enter showtime !"),giaVe:I.b().required("Enter ticket price !").matches(/^[7][5-9][0-9][0-9][0-9]|[8-9][0-9][0-9][0-9][0-9]|100000$/,"Ticket price must be between 75000 and 100000 !")}),Z=function(e){var a=localStorage.getItem("accessToken"),t=Object(L.a)({initialValues:{maPhim:Number(e.match.params.maPhim),maRap:"",ngayChieuGioChieu:"",giaVe:""},validationSchema:Y,validateOnMount:!0}),n=t.isValid,c=t.handleBlur,s=t.handleChange,r=t.values,i=t.errors,l=t.touched,o=t.setTouched;return Object(w.jsx)(T,{children:Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsx)("div",{className:"row py-3",children:Object(w.jsx)("span",{className:"fs-2 fw-bolder",children:"Insert Showtime"})}),Object(w.jsx)("div",{className:"row my-3",children:Object(w.jsxs)("form",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Movie ID: "}),Object(w.jsx)("input",{id:"maPhim",className:"w-100 text-secondary bg-dark border border-warning p-2 ",value:r.maPhim,disabled:!0}),l.maPhim&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.maPhim})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Cinema ID: "}),Object(w.jsx)("input",{id:"maRap",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.maRap,onChange:s,onBlur:c}),l.maRap&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.maRap})]})]}),Object(w.jsxs)("div",{className:"col-12 row",children:[Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsx)("label",{className:"text-warning mb-2",children:"Showtime (dd/mm/yy hh:mm:ss):"}),Object(w.jsx)("input",{id:"ngayChieuGioChieu",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.ngayChieuGioChieu,onChange:s,onBlur:c}),l.ngayChieuGioChieu&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.ngayChieuGioChieu})]}),Object(w.jsxs)("div",{className:"col-12 col-md-6 my-2",children:[Object(w.jsxs)("label",{className:"text-warning mb-2",children:["Ticket Price (vnd):"," "]}),Object(w.jsx)("input",{id:"giaVe",className:"w-100 text-white bg-dark border border-warning p-2 ",value:r.giaVe,onChange:s,onBlur:c}),l.giaVe&&Object(w.jsx)("p",{className:"text-danger m-auto",children:i.giaVe})]})]}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("button",{onClick:function(t){if(t.preventDefault(),o({maPhim:!0,maRap:!0,ngayChieuGioChieu:!0,giaVe:!0}),n){var c=Object(K.a)({},r);console.log(c),_(a,c,e)}},className:"col-3 btn btn-dark border border-warning border-2 p-2 mx-2 my-5",children:"Insert Showtime"})})]})})]})})},ee=function(){var e=Object(i.b)(),a=localStorage.getItem("taiKhoan");return Object(n.useEffect)((function(){a&&f(e,a)}),[e,a]),Object(w.jsx)(l.a,{children:Object(w.jsxs)(o.c,{children:[Object(w.jsx)(o.a,{exact:!0,path:"/admin",component:S}),Object(w.jsx)(o.a,{path:"/admin/login",component:G}),Object(w.jsx)(o.a,{path:"/admin/users",component:F}),Object(w.jsx)(o.a,{path:"/admin/insertuser",component:B}),Object(w.jsx)(o.a,{path:"/admin/updateuser",component:H}),Object(w.jsx)(o.a,{path:"/admin/movies",component:R}),Object(w.jsx)(o.a,{path:"/admin/moviedetail/:maPhim",component:J}),Object(w.jsx)(o.a,{path:"/admin/insertmovie",component:W}),Object(w.jsx)(o.a,{path:"/admin/updatemovie",component:$}),Object(w.jsx)(o.a,{path:"/admin/showtimes/:maPhim",component:V}),Object(w.jsx)(o.a,{path:"/admin/insertshowtime/:maPhim",component:Z})]})})},ae=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,225)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,s=a.getLCP,r=a.getTTFB;t(e),n(e),c(e),s(e),r(e)}))},te=t(34),ne=t(95),ce={auth:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;return a.type===x?(e.auth=a.payload,Object(K.a)({},e)):e},re={usersList:[],userDetail:null},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O:return e.usersList=a.payload,Object(K.a)({},e);case g:return e.userDetail=a.payload,Object(K.a)({},e);default:return e}},le={moviesList:[],movieDetail:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p:return e.moviesList=a.payload,Object(K.a)({},e);case N:return e.movieDetail=a.payload,Object(K.a)({},e);default:return e}},de={showtimes:null},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,a=arguments.length>1?arguments[1]:void 0;return a.type===v?(e.showtimes=a.payload,Object(K.a)({},e)):e},be=Object(te.b)({auth:se,users:ie,movies:oe,showtimes:he}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||te.c,me=Object(te.d)(be,je(Object(te.a)(ne.a)));r.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(i.a,{store:me,children:Object(w.jsx)(ee,{})})}),document.getElementById("root")),ae()}},[[224,1,2]]]);
//# sourceMappingURL=main.c6875453.chunk.js.map